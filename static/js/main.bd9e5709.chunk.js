(this["webpackJsonpadmin-app"]=this["webpackJsonpadmin-app"]||[]).push([[0],{101:function(e,t,n){},102:function(e,t,n){},104:function(e,t,n){},105:function(e,t,n){},106:function(e,t,n){},107:function(e,t,n){},108:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(22),s=n.n(r),i=(n(73),n(12)),o=(n(74),n(117)),l=n(118),d=n(110),j=n(14),u=n(10),p=n(8),b=n.n(p),h=n(4),O=n(11),x=n(62),g=n.n(x),m=n(34),f=n(63),v="LOGIN_REQUEST",y="LOGIN_FAILED",C="LOGIN_SUCCESS",S="LOGOUT_REQUEST",E="LOGOUT_SUCCESS",T="LOGOUT_FAILURE",_="DELETE_USER_SUCCESS",k="USER_REGISTER_REQUEST",w="USER_REGISTER_SUCCESS",R="USER_REGISTER_FAILED",N="GET_ALL_USER_SUCCESS",I="GET_ALL_CATEGORIES_REQUEST",U="GET_ALL_CATEGORIES_SUCCESS",L="GET_ALL_CATEGORIES_FAILURE",D="ADD_NEW_CATEGORY_REQUEST",A="ADD_NEW_CATEGORY_SUCCESS",P="ADD_NEW_CATEGORY_FAILURE",G="UPDATE_CATEGORIES_REQUEST",F="UPDATE_CATEGORIES_SUCCESS",z="UPDATE_CATEGORIES_FAILURE",B="DELETE_CATEGORIES_REQUEST",M="DELETE_CATEGORIES_SUCCESS",Q="DELETE_CATEGORIES_FAILURE",q="GET_ALL_PRODUCTS_REQUEST",H="GET_ALL_PRODUCTS_SUCCESS",W="GET_ALL_PRODUCTS_FAILURE",Y="UPDATE_PRODUCT_REQUEST",J="UPDATE_PRODUCT_SUCCESS",X="UPDATE_PRODUCT_FAILURE",K="DELETE_PRODUCT_BY_ID_REQUEST",V="DELETE_PRODUCT_BY_ID_SUCCESS",$="DELETE_PRODUCT_BY_ID_FAILURE",Z="ADD_NEW_PRODUCT_REQUEST",ee="ADD_NEW_PRODUCT_SUCCESS",te="ADD_NEW_PRODUCT_FAILURE",ne="CREATE_PAGE_REQUEST",ae="CREATE_PAGE_SUCCESS",ce="CREATE_PAGE_FAILURE",re="GET_CUSTOMER_ORDER_REQUEST",se="GET_CUSTOMER_ORDER_SUCCESS",ie="GET_CUSTOMER_ORDER_FAILURE",oe="UPDATE_CUSTOMER_ORDER_REQUEST",le="UPDATE_CUSTOMER_ORDER_SUCCESS",de="UPDATE_CUSTOMER_ORDER_FAILURE",je={token:null,user:{fullname:"",username:"",phone:"",email:"",picture:"",password:""},authenticate:!1,authenticating:!1,loading:!1,error:null,message:""},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:e=Object(h.a)(Object(h.a)({},e),{},{authenticating:!0});break;case C:e=Object(h.a)(Object(h.a)({},e),{},{user:t.payload.user,token:t.payload.token,authenticate:!0,authenticating:!1});break;case S:e=Object(h.a)(Object(h.a)({},e),{},{loading:!0});break;case E:e=Object(h.a)({},je);break;case T:e=Object(h.a)(Object(h.a)({},e),{},{error:t.payload.error,loading:!1});break;case _:e=Object(h.a)({},je)}return e},pe={error:"",message:"",users:[],loading:!1},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:e=Object(h.a)(Object(h.a)({},e),{},{loading:!0});break;case w:e=Object(h.a)(Object(h.a)({},e),{},{loading:!1,message:t.payload.message});break;case R:e=Object(h.a)(Object(h.a)({},e),{},{loading:!1,error:t.payload.error});break;case N:e=Object(h.a)(Object(h.a)({},e),{},{loading:!1,users:t.payload.users})}return e},he={products:[]},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:e=Object(h.a)(Object(h.a)({},e),{},{products:t.payload.products});break;case Y:e=Object(h.a)(Object(h.a)({},e),{},{loading:!0});break;case J:e=Object(h.a)(Object(h.a)({},e),{},{loading:!1});break;case X:e=Object(h.a)(Object(h.a)({},e),{},{error:t.payload.error,loading:!1})}return e},xe=n(24),ge=n(31),me={categories:[],loading:!1,error:null},fe=function e(t,n,a){var c=[];if(void 0===t)return[].concat(Object(ge.a)(n),[{_id:a._id,name:a.name,slug:a.slug,type:a.type,children:[]}]);var r,s=Object(xe.a)(n);try{for(s.s();!(r=s.n()).done;){var i=r.value;if(i._id===t){var o={_id:a._id,name:a.name,slug:a.slug,parentId:a.parentId,type:a.type,children:[]};c.push(Object(h.a)(Object(h.a)({},i),{},{children:i.children.length>0?[].concat(Object(ge.a)(i.children),[o]):[o]}))}else c.push(Object(h.a)(Object(h.a)({},i),{},{children:i.children?e(t,i.children,a):[]}))}}catch(l){s.e(l)}finally{s.f()}return c},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:e=Object(h.a)(Object(h.a)({},e),{},{categories:t.payload.categories});break;case D:e=Object(h.a)(Object(h.a)({},e),{},{loading:!0});break;case A:var n=t.payload.category,a=fe(n.parentId,e.categories,n);console.log(a),e=Object(h.a)(Object(h.a)({},e),{},{categories:a,loading:!1});break;case P:e=Object(h.a)(Object(h.a)({},me),{},{loading:!1,error:t.payload.error});break;case G:e=Object(h.a)(Object(h.a)({},e),{},{loading:!0});break;case F:e=Object(h.a)(Object(h.a)({},e),{},{loading:!1});break;case z:e=Object(h.a)(Object(h.a)({},e),{},{error:t.payload.error,loading:!1});break;case B:e=Object(h.a)(Object(h.a)({},e),{},{loading:!0});break;case M:e=Object(h.a)(Object(h.a)({},e),{},{loading:!1});break;case Q:e=Object(h.a)(Object(h.a)({},e),{},{error:t.payload.error,loading:!1})}return e},ye={orders:[]},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case se:e=Object(h.a)(Object(h.a)({},e),{},{orders:t.payload.orders})}return e},Se={error:null,loading:!1,page:{}},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne:e=Object(h.a)(Object(h.a)({},e),{},{loading:!0});break;case ae:e=Object(h.a)(Object(h.a)({},e),{},{loading:!1});break;case ce:e=Object(h.a)(Object(h.a)({},e),{},{loading:!1,error:t.payload.error})}return e},Te=Object(m.combineReducers)({auth:ue,user:be,category:ve,product:Oe,order:Ce,page:Ee}),_e=n(64),ke=Object(m.createStore)(Te,Object(f.composeWithDevTools)(Object(m.applyMiddleware)(_e.a))),we=window.localStorage.getItem("token"),Re=g.a.create({baseURL:"https://elec-server.herokuapp.com/api",headers:{Authorization:we?"Bearer ".concat(we):""}});Re.interceptors.request.use((function(e){var t=ke.getState().auth;return t.token&&(e.headers.Authorization="Bearer ".concat(t.token)),e})),Re.interceptors.response.use((function(e){return e}),(function(e){var t=e.response?e.response.status:500;return t&&500===t&&(localStorage.clear(),ke.dispatch({type:E})),Promise.reject(e)}));var Ne=Re,Ie=function(){return function(){var e=Object(O.a)(b.a.mark((function e(t){var n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:I}),e.next=3,Ne.get("category/getcategory");case 3:n=e.sent,console.log(n),200===n.status?(a=n.data.categoryList,t({type:U,payload:{categories:a}})):t({type:L,payload:{error:n.data.error}});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ue=function(){return function(){var e=Object(O.a)(b.a.mark((function e(t){var n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:q}),e.next=4,Ne.post("product/getProducts");case 4:200===(n=e.sent).status?(a=n.data.products,t({type:H,payload:{products:a}})):t({type:W}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},Le=function(){return function(){var e=Object(O.a)(b.a.mark((function e(t){var n,a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:re}),e.prev=1,e.next=4,Ne.post("/admin/order/getCustomerOrders");case 4:200===(n=e.sent).status?(a=n.data.orders,t({type:se,payload:{orders:a}})):(c=n.data.error,t({type:ie,payload:{error:c}})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},De=n(1),Ae=function(e){var t=Object(u.c)((function(e){return e.auth})),n=Object(u.b)(),a=function(){n(function(){var e=Object(O.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:S}),e.next=3,Ne.post("admin/signout");case 3:200===(n=e.sent).status?(localStorage.clear(),t({type:E})):t({type:T,payload:{error:n.data.error}});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())};return Object(De.jsx)(l.a,{collapseOnSelect:!0,fixed:"top",expand:"lg",bg:"dark",variant:"dark",style:{zIndex:1},children:Object(De.jsxs)(d.a,{fluid:!0,children:[Object(De.jsx)(j.b,{to:"/",className:"navbar-brand",children:"Trang qu\u1ea3n tr\u1ecb"}),Object(De.jsx)(l.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(De.jsxs)(l.a.Collapse,{id:"responsive-navbar-nav",children:[Object(De.jsx)(o.a,{className:"me-auto"}),t.authenticate?Object(De.jsx)(o.a,{children:Object(De.jsx)("li",{className:"nav-item",children:Object(De.jsx)("span",{className:"nav-link",onClick:a,children:"\u0110\u0103ng xu\u1ea5t"})})}):Object(De.jsxs)(o.a,{children:[Object(De.jsx)("li",{className:"nav-item",children:Object(De.jsx)(j.c,{to:"/signin",className:"nav-link",children:"\u0110\u0103ng nh\u1eadp"})}),Object(De.jsx)("li",{className:"nav-item",children:Object(De.jsx)(j.c,{to:"/signup",className:"nav-link",children:"\u0110\u0103ng k\xfd"})})]})]})]})})},Pe=n(111),Ge=n(65),Fe=(n(101),function(e){return Object(De.jsxs)(De.Fragment,{children:[Object(De.jsx)(Ae,{}),e.sidebar?Object(De.jsx)(d.a,{fluid:!0,children:Object(De.jsxs)(Pe.a,{children:[Object(De.jsx)(Ge.a,{md:2,className:"sidebar",children:Object(De.jsxs)("ul",{children:[Object(De.jsx)("li",{children:Object(De.jsx)(j.c,{exact:!0,to:"/react-admin-electronic/",children:"Trang ch\u1ee7"})}),Object(De.jsx)("li",{children:Object(De.jsx)(j.c,{exact:!0,to:"/react-admin-electronic/users",children:"Ng\u01b0\u1eddi d\xf9ng"})}),Object(De.jsx)("li",{children:Object(De.jsx)(j.c,{to:"/react-admin-electronic/page",children:"Trang"})}),Object(De.jsx)("li",{children:Object(De.jsx)(j.c,{to:"/react-admin-electronic/categories",children:"Lo\u1ea1i s\u1ea3n ph\u1ea9m"})}),Object(De.jsx)("li",{children:Object(De.jsx)(j.c,{to:"/react-admin-electronic/products",children:"S\u1ea3n ph\u1ea9m"})}),Object(De.jsx)("li",{children:Object(De.jsx)(j.c,{to:"/react-admin-electronic/orders",children:"\u0110\u1eb7t h\xe0ng"})})]})}),Object(De.jsx)(Ge.a,{md:10,style:{marginLeft:"auto",paddingTop:"60px"},children:e.children})]})}):e.children]})}),ze=n(112),Be=(n(102),function(){return Object(De.jsx)(Fe,{sidebar:!0,children:Object(De.jsxs)(ze.a,{style:{margin:"5rem",background:"#fff"},className:"text-center",children:[Object(De.jsx)("h1",{children:"Welcome to Admin Dashboard"}),Object(De.jsx)("p",{children:"It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters, as opposed to using 'Content here, content here', making it look like readable English. Many desktop publishing packages and web page editors now use Lorem Ipsum as their default model text, and a sear"})]})})}),Me=n(7),Qe=n(116),qe=n(113),He=function(e){var t=null;switch(e.type){case"select":t=Object(De.jsxs)(Qe.a.Group,{children:[e.label&&Object(De.jsx)(Qe.a.Label,{children:e.label}),Object(De.jsxs)("select",{className:"form-control form-control-sm",value:e.value,onChange:e.onChange,children:[Object(De.jsx)("option",{value:"",children:e.placeholder}),e.options.length>0?e.options.map((function(e,t){return Object(De.jsx)("option",{value:e.value,children:e.name},t)})):null]})]});break;case"text":default:t=Object(De.jsxs)(Qe.a.Group,{children:[e.label&&Object(De.jsx)(Qe.a.Label,{children:e.label}),Object(De.jsx)(Qe.a.Control,Object(h.a)({type:e.type,placeholder:e.placeholder,value:e.value,onChange:e.onChange},e)),Object(De.jsx)(Qe.a.Text,{className:"text-muted",children:e.errorMessage})]})}return t},We=function(e){var t=Object(a.useState)(""),n=Object(Me.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(""),o=Object(Me.a)(s,2),l=o[0],j=o[1],p=Object(u.c)((function(e){return e.auth})),x=Object(u.b)();return p.authenticate?Object(De.jsx)(i.a,{to:"/"}):Object(De.jsx)(Fe,{children:Object(De.jsx)(d.a,{children:Object(De.jsx)(Pe.a,{style:{marginTop:"80px"},children:Object(De.jsx)(Ge.a,{md:{span:6,offset:3},children:Object(De.jsxs)(Qe.a,{onSubmit:function(e){e.preventDefault(),x(function(e){return function(){var t=Object(O.a)(b.a.mark((function t(n){var a,c,r,s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:v}),t.next=3,Ne.post("/admin/signin",Object(h.a)({},e));case 3:200===(a=t.sent).status?(c=a.data,r=c.token,s=c.user,localStorage.setItem("token",r),localStorage.setItem("user",JSON.stringify(s)),n({type:C,payload:{token:r,user:s}})):400===a.status&&n({type:y,payload:{error:a.data.error}});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}({username:c,password:l}))},children:[Object(De.jsx)(He,{label:"T\xean \u0111\u0103ng nh\u1eadp",placeholder:"Nh\u1eadp t\xean \u0111\u0103ng nh\u1eadp",value:c,type:"text",onChange:function(e){return r(e.target.value)}}),Object(De.jsx)(He,{label:"M\u1eadt kh\u1ea9u",placeholder:"Nh\u1eadp m\u1eadt kh\u1ea9u",value:l,type:"password",onChange:function(e){return j(e.target.value)}}),Object(De.jsx)(qe.a,{style:{marginTop:"16px"},variant:"primary",type:"submit",children:"\u0110\u0103ng nh\u1eadp"})]})})})})})},Ye=function(e){var t=Object(a.useState)(""),n=Object(Me.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(""),o=Object(Me.a)(s,2),l=o[0],j=o[1],p=Object(a.useState)(""),x=Object(Me.a)(p,2),g=x[0],m=x[1],f=Object(a.useState)(""),v=Object(Me.a)(f,2),y=v[0],C=v[1],S=Object(a.useState)(""),E=Object(Me.a)(S,2),T=E[0],_=E[1],N=Object(u.b)(),I=Object(u.c)((function(e){return e.auth})),U=Object(u.c)((function(e){return e.user}));Object(a.useEffect)((function(){U.loading||(r(""),j(""),m(""),C(""),_(""))}),[U.loading]);return I.authenticate?Object(De.jsx)(i.a,{to:"/"}):U.loading?Object(De.jsx)("p",{children:"Loading..."}):Object(De.jsx)(Fe,{children:Object(De.jsxs)(d.a,{children:[U.message,Object(De.jsx)(Pe.a,{style:{marginTop:"80px"},children:Object(De.jsx)(Ge.a,{md:{span:6,offset:3},children:Object(De.jsxs)(Qe.a,{onSubmit:function(e){e.preventDefault(),N(function(e){return console.log(e),function(){var t=Object(O.a)(b.a.mark((function t(n){var a,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:k}),t.next=3,Ne.post("/admin/signup",Object(h.a)({},e));case 3:201===(a=t.sent).status?(c=a.data.message,n({type:w,payload:{message:c}})):400===a.status&&n({type:R,payload:{error:a.data.error}});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}({username:c,fullname:l,phone:g,email:y,password:T}))},children:[Object(De.jsx)(He,{label:"T\xean \u0111\u0103ng nh\u1eadp",placeholder:"Nh\u1eadp t\xean \u0111\u0103ng nh\u1eadp",value:c,type:"text",onChange:function(e){r(e.target.value)}}),Object(De.jsx)(He,{label:"T\xean \u0111\u1ea7y \u0111\u1ee7",placeholder:"Nh\u1eadp t\xean \u0111\u1ea7y \u0111\u1ee7",value:l,type:"text",onChange:function(e){return j(e.target.value)}}),Object(De.jsx)(He,{label:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",placeholder:"Nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i",value:g,type:"text",onChange:function(e){return m(e.target.value)}}),Object(De.jsx)(He,{label:"Email",placeholder:"Nh\u1eadp email",value:y,type:"email",onChange:function(e){return C(e.target.value)}}),Object(De.jsx)(He,{label:"M\u1eadt kh\u1ea9u",placeholder:"Nh\u1eadp m\u1eadt kh\u1ea9u",value:T,type:"password",onChange:function(e){return _(e.target.value)}}),Object(De.jsx)(qe.a,{style:{marginTop:"16px"},variant:"primary",type:"submit",children:"\u0110\u0103ng k\xfd"})]})})})]})})},Je=n(68),Xe=["component"],Ke=function(e){var t=e.component,n=Object(Je.a)(e,Xe);return Object(De.jsx)(i.b,Object(h.a)(Object(h.a)({},n),{},{component:function(e){return window.localStorage.getItem("token")?Object(De.jsx)(t,Object(h.a)({},e)):Object(De.jsx)(i.a,{to:"/signin"})}}))},Ve=n(115),$e=function(e){return Object(De.jsxs)(Ve.a,{size:e.size,show:e.show,onHide:e.handleClose,children:[Object(De.jsx)(Ve.a.Header,{closeButton:!0,children:Object(De.jsx)(Ve.a.Title,{children:e.modalTitle})}),Object(De.jsx)(Ve.a.Body,{children:e.children}),Object(De.jsx)(Ve.a.Footer,{children:e.buttons?e.buttons.map((function(e,t){return Object(De.jsx)(qe.a,{variant:e.color,onClick:e.onClick,children:e.label},t)})):Object(De.jsx)(qe.a,Object(h.a)(Object(h.a)({variant:"primary"},e),{},{style:{backgroundColor:"#333"},className:"btn-sm",onClick:e.onSubmit,children:"L\u01b0u thay \u0111\u1ed5i"}))})]})},Ze=function e(t){var n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],c=Object(xe.a)(t);try{for(c.s();!(n=c.n()).done;){var r=n.value;a.push({value:r._id,name:r.name,parentId:r.parentId,type:r.type}),r.children.length>0&&e(r.children,a)}}catch(s){c.e(s)}finally{c.f()}return a},et=function(e){var t=Object(a.useState)(!1),n=Object(Me.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(""),i=Object(Me.a)(s,2),o=i[0],l=i[1],j=Object(u.c)((function(e){return e.category})),p=Object(a.useState)([]),h=Object(Me.a)(p,2),x=h[0],g=h[1],m=Object(a.useState)(""),f=Object(Me.a)(m,2),v=f[0],y=f[1],C=Object(a.useState)(""),S=Object(Me.a)(C,2),E=S[0],T=S[1],_=Object(a.useState)(""),k=Object(Me.a)(_,2),w=k[0],R=k[1],N=Object(a.useState)([]),I=Object(Me.a)(N,2),U=I[0],L=I[1],D=Object(a.useState)([]),A=Object(Me.a)(D,2),P=A[0],G=A[1],F=Object(u.b)(),z=Object(u.c)((function(e){return e.page}));Object(a.useEffect)((function(){g(Ze(j.categories))}),[j]),Object(a.useEffect)((function(){z.loading||(r(!1),l(""),y(""),T(""),G([]),L([]))}),[z]);var B=function(e){var t=x.find((function(t){return t.value===e.target.value}));y(e.target.value),R(t.type)},M=function(e){console.log(e),L([].concat(Object(ge.a)(U),[e.target.files[0]]))},Q=function(e){console.log(e),G([].concat(Object(ge.a)(P),[e.target.files[0]]))},q=function(e){if(""===o)return alert("Title is required"),void r(!1);var t=new FormData;t.append("title",o),t.append("description",E),t.append("category",v),t.append("type",w),U.forEach((function(e,n){t.append("banners",e)})),P.forEach((function(e,n){t.append("products",e)})),F(function(e){return function(){var t=Object(O.a)(b.a.mark((function t(n){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:ne}),t.prev=1,t.next=4,Ne.post("/admin/page/create",e);case 4:201===(a=t.sent).status?n({type:ae,payload:{page:a.data.page}}):n({type:ce,payload:{error:a.data.error}}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(t))};return Object(De.jsx)(Fe,{sidebar:!0,children:z.loading?Object(De.jsx)("p",{children:"Creating Page...please wait"}):Object(De.jsxs)(De.Fragment,{children:[Object(De.jsx)($e,{show:c,modalTitle:"Create New Page",handleClose:function(){return r(!1)},onSubmit:q,children:Object(De.jsxs)(d.a,{children:[Object(De.jsx)(Pe.a,{children:Object(De.jsx)(Ge.a,{children:Object(De.jsx)(He,{type:"select",value:v,onChange:B,options:x,placeholder:"Select Category"})})}),Object(De.jsx)(Pe.a,{children:Object(De.jsx)(Ge.a,{children:Object(De.jsx)(He,{value:o,onChange:function(e){return l(e.target.value)},placeholder:"Page Title",className:""})})}),Object(De.jsx)(Pe.a,{children:Object(De.jsx)(Ge.a,{children:Object(De.jsx)(He,{value:E,onChange:function(e){return T(e.target.value)},placeholder:"Page Desc",className:""})})}),U.length>0?U.map((function(e,t){return Object(De.jsx)(Pe.a,{children:Object(De.jsx)(Ge.a,{children:e.name})},t)})):null,Object(De.jsx)(Pe.a,{children:Object(De.jsx)(Ge.a,{children:Object(De.jsx)(He,{className:"form-control",type:"file",name:"banners",onChange:M})})}),P.length>0?P.map((function(e,t){return Object(De.jsx)(Pe.a,{children:Object(De.jsx)(Ge.a,{children:e.name})},t)})):null,Object(De.jsx)(Pe.a,{children:Object(De.jsx)(Ge.a,{children:Object(De.jsx)(He,{className:"form-control",type:"file",name:"products",onChange:Q})})})]})}),Object(De.jsx)("button",{onClick:function(){return r(!0)},children:"Create Page"})]})})},tt=n(38),nt=n(67),at=n.n(nt),ct=(n(103),n(104),n(28)),rt=function(e){var t=e.show,n=e.handleClose,a=e.onSubmit,c=e.modalTitle,r=e.size,s=e.expandedArray,i=e.checkedArray,o=e.handleCategoryInput,l=e.categoryList;return console.log({expandedArray:s,checkedArray:i}),Object(De.jsxs)($e,{show:t,handleClose:n,onSubmit:a,modalTitle:c,size:r,children:[Object(De.jsx)(Pe.a,{children:Object(De.jsx)(Ge.a,{children:Object(De.jsx)("h6",{children:"Lo\u1ea1i s\u1ea3n ph\u1ea9m cha"})})}),s.length>0&&s.map((function(e,t){return Object(De.jsxs)(Pe.a,{className:"form-input",children:[Object(De.jsx)(Ge.a,{children:Object(De.jsx)(He,{value:e.name,placeholder:"T\xean lo\u1ea1i s\u1ea3n ph\u1ea9m",onChange:function(e){return o("name",e.target.value,t,"expanded")}})}),Object(De.jsx)(Ge.a,{children:Object(De.jsxs)("select",{className:"form-control",value:e.parentId,onChange:function(e){return o("parentId",e.target.value,t,"expanded")},children:[Object(De.jsx)("option",{children:"L\u1ef1a ch\u1ecdn lo\u1ea1i s\u1ea3n ph\u1ea9m cha"}),l.map((function(e){return Object(De.jsx)("option",{value:e.value,children:e.name},e.value)}))]})}),Object(De.jsx)(Ge.a,{children:Object(De.jsxs)("select",{className:"form-control",value:e.type,onChange:function(e){return o("type",e.target.value,t,"expanded")},children:[Object(De.jsx)("option",{value:"",selected:!0,children:"L\u1ef1a ch\u1ecdn ki\u1ec3u"}),Object(De.jsx)("option",{value:"store",children:"C\u1eeda h\xe0ng"}),Object(De.jsx)("option",{value:"product",children:"S\u1ea3n ph\u1ea9m"}),Object(De.jsx)("option",{value:"page",children:"Trang"})]})})]},t)})),Object(De.jsx)("h6",{children:"C\xe1c lo\u1ea1i s\u1ea3n ph\u1ea9m c\u1ea7n ch\u1ec9nh s\u1eeda"}),i.length>0&&i.map((function(e,t){return Object(De.jsxs)(Pe.a,{className:"form-input",children:[Object(De.jsx)(Ge.a,{children:Object(De.jsx)(He,{value:e.name,placeholder:"T\xean lo\u1ea1i s\u1ea3n ph\u1ea9m",onChange:function(e){return o("name",e.target.value,t,"checked")}})}),Object(De.jsx)(Ge.a,{children:Object(De.jsxs)("select",{className:"form-control",value:e.parentId,onChange:function(e){return o("parentId",e.target.value,t,"checked")},children:[Object(De.jsx)("option",{children:"L\u1ef1a ch\u1ecdn lo\u1ea1i s\u1ea3n ph\u1ea9m cha"}),l.map((function(e){return Object(De.jsx)("option",{value:e.value,children:e.name},e.value)}))]})}),Object(De.jsx)(Ge.a,{children:Object(De.jsxs)("select",{className:"form-control",value:e.type,onChange:function(e){return o("type",e.target.value,t,"checked")},children:[Object(De.jsx)("option",{value:"",children:"L\u1ef1a ch\u1ecdn ki\u1ec3u"}),Object(De.jsx)("option",{value:"store",children:"C\u1eeda h\xe0ng"}),Object(De.jsx)("option",{value:"product",children:"S\u1ea3n ph\u1ea9m"}),Object(De.jsx)("option",{value:"page",children:"Trang"})]})})]},t)}))]})},st=function(e){var t=e.show,n=e.handleClose,a=e.onSubmit,c=e.modalTitle,r=e.categoryName,s=e.setCategoryName,i=e.parentCategoryId,o=e.setParentCategoryId,l=e.categoryList,d=e.handleCategoryImage;return Object(De.jsxs)($e,{show:t,handleClose:n,onSubmit:a,modalTitle:c,children:[Object(De.jsxs)(Pe.a,{children:[Object(De.jsx)(Ge.a,{children:Object(De.jsx)(He,{value:r,placeholder:"T\xean lo\u1ea1i s\u1ea3n ph\u1ea9m",onChange:function(e){return s(e.target.value)},className:"form-control-sm"})}),Object(De.jsx)(Ge.a,{children:Object(De.jsxs)("select",{className:"form-control form-control-sm",value:i,onChange:function(e){return o(e.target.value)},children:[Object(De.jsx)("option",{children:"L\u1ef1a ch\u1ecdn lo\u1ea1i s\u1ea3n ph\u1ea9m cha"}),l.map((function(e){return Object(De.jsx)("option",{value:e.value,children:e.name},e.value)}))]})})]}),Object(De.jsx)(Pe.a,{style:{marginTop:10},children:Object(De.jsx)(Ge.a,{children:Object(De.jsx)("input",{type:"file",name:"categoryImage",onChange:d,style:{marginTop:"12px"}})})})]})},it=function(e){var t=Object(u.c)((function(e){return e.category})),n=Object(a.useState)(""),c=Object(Me.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)(""),o=Object(Me.a)(i,2),l=o[0],j=o[1],p=Object(a.useState)(""),x=Object(Me.a)(p,2),g=x[0],m=x[1],f=Object(a.useState)(!1),v=Object(Me.a)(f,2),y=v[0],C=v[1],S=Object(a.useState)([]),E=Object(Me.a)(S,2),T=E[0],_=E[1],k=Object(a.useState)([]),w=Object(Me.a)(k,2),R=w[0],N=w[1],I=Object(a.useState)([]),U=Object(Me.a)(I,2),L=U[0],q=U[1],H=Object(a.useState)([]),W=Object(Me.a)(H,2),Y=W[0],J=W[1],X=Object(a.useState)(!1),K=Object(Me.a)(X,2),V=K[0],$=K[1],Z=Object(a.useState)(!1),ee=Object(Me.a)(Z,2),te=ee[0],ne=ee[1],ae=Object(u.b)();Object(a.useEffect)((function(){t.loading||C(!1)}),[t.loading]);var ce=function e(t){var n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],c=Object(xe.a)(t);try{for(c.s();!(n=c.n()).done;){var r=n.value;a.push({value:r._id,name:r.name,parentId:r.parentId,type:r.type}),r.children.length>0&&e(r.children,a)}}catch(s){c.e(s)}finally{c.f()}return a},re=function(){var e=ce(t.categories),n=[],a=[];T.length>0&&T.forEach((function(t,a){var c=e.find((function(e,n){return t===e.value}));c&&n.push(c)})),R.length>0&&R.forEach((function(t,n){var c=e.find((function(e,n){return t===e.value}));c&&a.push(c)})),q(n),J(a)},se=function(){var e,t=L.map((function(e,t){return{_id:e.value}}));t.length>0&&ae((e=t,function(){var t=Object(O.a)(b.a.mark((function t(n){var a,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:B}),t.next=3,Ne.post("/category/delete",{payload:{ids:e}});case 3:201===(a=t.sent).status?(n(Ie()),n({type:M})):(c=a.data.error,n({type:Q,payload:{error:c}}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())).then((function(e){e&&(ae(Ie()),ne(!1))})),ne(!1)},ie=ce(t.categories);return Object(De.jsxs)(Fe,{sidebar:!0,children:[Object(De.jsxs)(d.a,{children:[Object(De.jsx)(Pe.a,{children:Object(De.jsx)(Ge.a,{md:12,children:Object(De.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(De.jsx)("h3",{children:"Lo\u1ea1i s\u1ea3n ph\u1ea9m"}),Object(De.jsxs)("div",{className:"actionBtnContainer",children:[Object(De.jsx)("span",{children:"L\u1ef1a ch\u1ecdn: "}),Object(De.jsxs)("button",{onClick:function(){return C(!0)},children:[Object(De.jsx)(ct.a,{})," ",Object(De.jsx)("span",{children:"Th\xeam"})]}),Object(De.jsxs)("button",{onClick:function(){re(),$(!0)},children:[Object(De.jsx)(ct.f,{}),Object(De.jsx)("span",{children:"S\u1eeda"})]}),Object(De.jsxs)("button",{onClick:function(){re(),ne(!0)},children:[Object(De.jsx)(ct.g,{}),Object(De.jsx)("span",{children:"X\xf3a"})]})]})]})})}),Object(De.jsx)(Pe.a,{children:Object(De.jsx)(Ge.a,{md:12,children:Object(De.jsx)(at.a,{nodes:function e(t){var n,a=[],c=Object(xe.a)(t);try{for(c.s();!(n=c.n()).done;){var r=n.value;a.push({label:r.name,value:r._id,children:r.children.length>0&&e(r.children)})}}catch(s){c.e(s)}finally{c.f()}return a}(t.categories),checked:T,expanded:R,onCheck:function(e){return _(e)},onExpand:function(e){return N(e)},icons:{check:Object(De.jsx)(ct.d,{}),uncheck:Object(De.jsx)(ct.e,{}),halfCheck:Object(De.jsx)(ct.e,{}),expandClose:Object(De.jsx)(ct.c,{}),expandOpen:Object(De.jsx)(ct.b,{})}})})})]}),Object(De.jsx)(st,{show:y,handleClose:function(){return C(!1)},onSubmit:function(){var e=new FormData;if(""===r)return alert("T\xean lo\u1ea1i s\u1ea3n ph\u1ea9m b\u1eaft bu\u1ed9c"),void C(!1);e.append("name",r),e.append("parentId",l),e.append("categoryImage",g),ae(function(e){return function(){var t=Object(O.a)(b.a.mark((function t(n){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:D}),t.prev=1,t.next=4,Ne.post("/category/create",e);case 4:201===(a=t.sent).status?n({type:A,payload:{category:a.data.category}}):n({type:P,payload:a.data.error}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0.response);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(e)),s(""),j(""),C(!1)},modalTitle:"Th\xeam lo\u1ea1i s\u1ea3n ph\u1ea9m m\u1edbi",categoryName:r,setCategoryName:s,parentCategoryId:l,setParentCategoryId:j,categoryList:ie,handleCategoryImage:function(e){m(e.target.files[0])}}),Object(De.jsx)(rt,{show:V,handleClose:function(){return $(!1)},onSubmit:function(){var e=new FormData;Y.forEach((function(t,n){e.append("_id",t.value),e.append("name",t.name),e.append("parentId",t.parentId?t.parentId:""),e.append("type",t.type)})),L.forEach((function(t,n){e.append("_id",t.value),e.append("name",t.name),e.append("parentId",t.parentId?t.parentId:""),e.append("type",t.type)})),ae(function(e){return function(){var t=Object(O.a)(b.a.mark((function t(n){var a,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:G}),t.next=3,Ne.post("/category/update",e);case 3:201===(a=t.sent).status?(n({type:F}),n(Ie())):(c=a.data.error,n({type:z,payload:c}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e)),$(!1)},modalTitle:"C\u1eadp nh\u1eadt lo\u1ea1i s\u1ea3n ph\u1ea9m",size:"lg",expandedArray:Y,checkedArray:L,handleCategoryInput:function(e,t,n,a){if("checked"===a){var c=L.map((function(a,c){return n===c?Object(h.a)(Object(h.a)({},a),{},Object(tt.a)({},e,t)):a}));q(c)}else if("expanded"===a){var r=Y.map((function(a,c){return n===c?Object(h.a)(Object(h.a)({},a),{},Object(tt.a)({},e,t)):a}));J(r)}},categoryList:ie}),Object(De.jsxs)($e,{modalTitle:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a",show:te,handleClose:function(){return ne(!1)},buttons:[{label:"Kh\xf4ng",color:"primary",onClick:function(){alert("no")}},{label:"C\xf3",color:"danger",onClick:se}],children:[Y.map((function(e,t){return Object(De.jsx)("span",{children:e.name},t)})),L.map((function(e,t){return Object(De.jsx)("span",{children:e.name},t)}))]})]})},ot=n(114),lt=(n(105),function(e){return Object(De.jsxs)("div",{style:{fontSize:e.fontSize?e.fontSize:"14px",margin:"5px 0",color:e.color,textDecoration:e.textDecoration},children:[e.value.toFixed(0).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")," vn\u0111"]})});function dt(e){var t=e.pagination,n=e.onPageChange,a=t._page,c=t._limit,r=t._totalRows,s=Math.ceil(r/c);function i(e){n&&n(e)}return Object(De.jsxs)("div",{children:[Object(De.jsx)("button",{disabled:1===a,onClick:function(){return i(a-1)},children:"Prev"}),Object(De.jsx)("button",{disabled:a===s,onClick:function(){return i(a+1)},children:"Next"})]})}dt.defaultProps={onPageChange:null};var jt=dt,ut=function(e){var t=Object(a.useState)(""),n=Object(Me.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(""),i=Object(Me.a)(s,2),o=i[0],l=i[1],j=Object(a.useState)(""),p=Object(Me.a)(j,2),h=p[0],x=p[1],g=Object(a.useState)(""),m=Object(Me.a)(g,2),f=m[0],v=m[1],y=Object(a.useState)(""),C=Object(Me.a)(y,2),S=C[0],E=C[1],T=Object(a.useState)([]),_=Object(Me.a)(T,2),k=_[0],w=_[1],R=Object(a.useState)(""),N=Object(Me.a)(R,2),I=N[0],U=N[1],L=Object(a.useState)(!1),D=Object(Me.a)(L,2),A=D[0],P=D[1],G=Object(a.useState)(!0),F=Object(Me.a)(G,2),z=F[0],B=F[1],M=Object(a.useState)({_page:1,_limit:10,_totalRow:1}),Q=Object(Me.a)(M,2),q=Q[0],H=(Q[1],Object(a.useState)({_limit:10,_page:1})),W=Object(Me.a)(H,2),ne=(W[0],W[1],Object(a.useState)(!1)),ae=Object(Me.a)(ne,2),ce=ae[0],re=ae[1],se=Object(a.useState)(null),ie=Object(Me.a)(se,2),oe=ie[0],le=ie[1],de=Object(a.useState)(0),je=Object(Me.a)(de,2),ue=je[0],pe=je[1],be=Object(a.useState)({_id:0,quantity:0}),he=Object(Me.a)(be,2),Oe=he[0],me=he[1],fe=Object(u.c)((function(e){return e.category})),ve=Object(u.c)((function(e){return e.product})),ye=Object(u.b)(),Ce=function(){P(!1)},Se=function(){var e=new FormData;e.append("name",c),e.append("priceOld",o),e.append("price",h),e.append("quantity",f),e.append("description",S),e.append("category",I),console.log(e);var t,n=Object(xe.a)(k);try{for(n.s();!(t=n.n()).done;){var a=t.value;e.append("productPicture",a)}}catch(s){n.e(s)}finally{n.f()}ye(function(e){return function(){var t=Object(O.a)(b.a.mark((function t(n){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:Z}),t.next=4,Ne.post("/product/create",e);case 4:201===(a=t.sent).status?(n({type:ee}),n(Ue())):n({type:te,payload:a.data.error}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(e)).then((function(){P(!1),r(""),l(""),x(""),v(""),E(""),U(""),w([])}))},Ee=function e(t){var n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],c=Object(xe.a)(t);try{for(c.s();!(n=c.n()).done;){var r=n.value;a.push({value:r._id,name:r.name}),r.children.length>0&&e(r.children,a)}}catch(s){c.e(s)}finally{c.f()}return a},Te=function(e){w([].concat(Object(ge.a)(k),[e.target.files[0]]))};function _e(e){console.log("NewPage: ",e)}var ke=function(){re(!1)},we=function(e){le(e),pe(e.quantity),re(!0)};return Object(De.jsxs)(Fe,{sidebar:!0,children:[Object(De.jsxs)(d.a,{children:[Object(De.jsx)(Pe.a,{children:Object(De.jsx)(Ge.a,{md:12,children:Object(De.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"20px"},children:[Object(De.jsx)("h3",{children:"S\u1ea3n ph\u1ea9m"}),Object(De.jsx)("button",{onClick:function(){return P(!0)},children:"Th\xeam s\u1ea3n ph\u1ea9m"})]})})}),Object(De.jsx)(Pe.a,{children:Object(De.jsx)(Ge.a,{children:Object(De.jsxs)(ot.a,{style:{fontSize:12},responsive:"sm",children:[Object(De.jsx)("thead",{children:Object(De.jsxs)("tr",{children:[Object(De.jsx)("th",{children:"ID"}),Object(De.jsx)("th",{children:"T\xean s\u1ea3n ph\u1ea9m"}),Object(De.jsx)("th",{children:"\u0110\u01a1n gi\xe1 c\u0169"}),Object(De.jsx)("th",{children:"\u0110\u01a1n gi\xe1 hi\u1ec7n t\u1ea1i"}),Object(De.jsx)("th",{children:"S\u1ed1 l\u01b0\u1ee3ng"}),Object(De.jsx)("th",{children:"Lo\u1ea1i"}),Object(De.jsx)("th",{children:"L\u1ef1a ch\u1ecdn"})]})}),Object(De.jsx)("tbody",{children:ve.products.length>0?ve.products.map((function(e){return Object(De.jsxs)("tr",{children:[Object(De.jsx)("td",{children:e._id}),Object(De.jsx)("td",{children:e.name}),Object(De.jsx)("td",{children:Object(De.jsx)(lt,{color:"#666",textDecoration:"line-through",value:e.priceOld})}),Object(De.jsx)("td",{children:Object(De.jsx)(lt,{value:e.price})}),Object(De.jsx)("td",{children:e.quantity?e.quantity:"H\u1ebft h\xe0ng"}),Object(De.jsx)("td",{children:e.category.name}),Object(De.jsxs)("td",{children:[Object(De.jsx)("button",{onClick:function(){return we(e)},children:"Chi ti\u1ebft"}),Object(De.jsx)("button",{onClick:function(){var t={productId:e._id,productName:e.name};ye(function(e){return function(){var t=Object(O.a)(b.a.mark((function t(n){var a,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ne.delete("product/deleteProductById",{data:{payload:e}});case 3:a=t.sent,n({type:K}),202===a.status?(n({type:V}),n(Ue())):(c=a.data.error,n({type:$,payload:{error:c}})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(t))},children:"X\xf3a"})]})]},e._id)})):null}),Object(De.jsx)(jt,{pagination:q,onPageChange:_e})]})})})]}),Object(De.jsxs)($e,{show:A,handleClose:Ce,modalTitle:"Th\xeam s\u1ea3n ph\u1ea9m m\u1edbi",onSubmit:Se,children:[Object(De.jsx)(He,{style:{marginBottom:"10px",border:"1px solid #333"},label:"T\xean",value:c,placeholder:"T\xean s\u1ea3n ph\u1ea9m",onChange:function(e){return r(e.target.value)}}),Object(De.jsxs)("div",{style:{display:"flex",margin:"10px"},children:[Object(De.jsx)(He,{style:{marginTop:"-5px",border:"1px solid #333"},label:"\u0110\u01a1n gi\xe1 c\u0169",value:o,placeholder:"\u0110\u01a1n gi\xe1 s\u1ea3n ph\u1ea9m",onChange:function(e){return l(e.target.value)}}),Object(De.jsx)(He,{style:{marginTop:"-5px",border:"1px solid #333"},label:"\u0110\u01a1n gi\xe1 hi\u1ec7n t\u1ea1i",value:h,placeholder:"\u0110\u01a1n gi\xe1 s\u1ea3n ph\u1ea9m",onChange:function(e){return x(e.target.value)}})]}),Object(De.jsx)(He,{style:{marginBottom:"10px",marginTop:"-5px",border:"1px solid #333"},label:"S\u1ed1 l\u01b0\u1ee3ng",value:f,placeholder:"S\u1ed1 l\u01b0\u1ee3ng s\u1ea3n ph\u1ea9m",onChange:function(e){return v(e.target.value)}}),Object(De.jsx)("span",{children:"M\xf4 t\u1ea3"}),Object(De.jsx)("textarea",{style:{margin:"5px 0 10px 0",width:"100%",height:"100px"},value:S,placeholder:"Chi ti\u1ebft s\u1ea3n ph\u1ea9m",onChange:function(e){return E(e.target.value)}}),Object(De.jsxs)("select",{className:"form-control",style:{marginTop:"5px",border:"1px solid #333"},value:I,onChange:function(e){return U(e.target.value)},children:[Object(De.jsx)("option",{children:"Lo\u1ea1i s\u1ea3n ph\u1ea9m"}),Ee(fe.categories).map((function(e){return Object(De.jsx)("option",{value:e.value,children:e.name},e.value)}))]}),k.length>0?k.map((function(e,t){return Object(De.jsx)("div",{children:e.name},t)})):null,Object(De.jsx)("p",{style:{margin:"10px 0 5px 0"},children:"H\xecnh \u1ea3nh"}),Object(De.jsx)("input",{type:"file",name:"productPicture",onChange:Te})]}),function(){if(!oe)return null;return Object(De.jsxs)($e,{show:ce,handleClose:ke,modalTitle:"Chi ti\u1ebft s\u1ea3n ph\u1ea9m",size:"lg",onSubmit:function(){var e;me(Oe._id=oe._id),me(Oe.quantity=ue),ye((e=Oe,console.log(e),function(){var t=Object(O.a)(b.a.mark((function t(n){var a,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(n),n({type:Y}),t.next=4,Ne.post("/product/update",e);case 4:a=t.sent,console.log(a),201===a.status?(n({type:J}),n(Ue())):(c=a.data.error,n({type:X,payload:c}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),re(!1)},children:[Object(De.jsxs)(Pe.a,{children:[Object(De.jsxs)(Ge.a,{md:"6",children:[Object(De.jsx)("label",{className:"key",children:"T\xean s\u1ea3n ph\u1ea9m"}),Object(De.jsx)("p",{className:"value",children:oe.name})]}),Object(De.jsxs)(Ge.a,{md:"6",children:[Object(De.jsx)("label",{className:"key",children:"Lo\u1ea1i"}),Object(De.jsx)("p",{className:"value",children:oe.category.name})]})]}),Object(De.jsxs)(Pe.a,{children:[Object(De.jsxs)(Ge.a,{md:"6",children:[Object(De.jsx)("label",{className:"key",children:"\u0110\u01a1n gi\xe1"}),Object(De.jsxs)("p",{className:"value",style:{width:"100%",display:"flex"},children:[Object(De.jsx)(lt,{color:"#666",textDecoration:"line-through",value:oe.priceOld}),"\xa0\xa0\xa0\xa0",Object(De.jsx)(lt,{value:oe.price})]})]}),Object(De.jsxs)(Ge.a,{md:"6",children:[Object(De.jsx)("label",{className:"key",children:"S\u1ed1 l\u01b0\u1ee3ng"}),Object(De.jsxs)("div",{style:{display:"flex"},children:[Object(De.jsx)("button",{onClick:function(){ue<=1?B(!0):(B(!1),pe(ue-1))},style:z?{width:"30px",height:"30px",borderRadius:"15px",border:"1px solid #c2c2c2",backgroundColor:"transparent",opacity:.2,cursor:"auto"}:{width:"30px",height:"30px",borderRadius:"15px",border:"1px solid #c2c2c2",backgroundColor:"transparent"},children:"-"}),Object(De.jsx)("p",{className:"value",style:{margin:"6px 10px"},children:ue}),Object(De.jsx)("button",{onClick:function(){B(!1),pe(ue+1)},style:{width:"30px",height:"30px",borderRadius:"15px",border:"1px solid #c2c2c2",backgroundColor:"transparent"},children:"+"})]})]})]}),Object(De.jsx)(Pe.a,{children:Object(De.jsxs)(Ge.a,{children:[Object(De.jsx)("label",{className:"key",children:"H\xecnh \u1ea3nh"}),Object(De.jsx)("div",{style:{display:"flex"},children:oe.productPictures.map((function(e){return Object(De.jsx)("div",{className:"productImgContainer",children:Object(De.jsx)("img",{src:(t=e.img,"https://elec-server.herokuapp.com/public/".concat(t)),alt:""})});var t}))})]})}),Object(De.jsx)(Pe.a,{children:Object(De.jsxs)(Ge.a,{children:[Object(De.jsx)("label",{className:"key",children:"M\xf4 t\u1ea3: "}),Object(De.jsx)("span",{className:"value",style:{overflowY:"scroll",maxHeight:"380px",display:"block",marginTop:"10px"},children:oe.description})]})}),Object(De.jsxs)(Pe.a,{children:[Object(De.jsx)("h5",{style:{marginTop:"20px"},children:"\u0110\xe1nh gi\xe1"}),Object(De.jsxs)("tr",{children:[Object(De.jsx)("th",{style:{width:"200px"},children:"Kh\xe1ch h\xe0ng"}),Object(De.jsx)("th",{children:"B\xecnh lu\u1eadn"})]}),oe.reviews.map((function(e){return Object(De.jsxs)("tr",{children:[Object(De.jsx)("td",{style:{width:"200px"},children:e.user}),Object(De.jsx)("td",{children:e.review})]})}))]})]})}()]})},pt=(n(106),function(e){return Object(De.jsxs)("div",Object(h.a)(Object(h.a)({className:"card"},e),{},{children:[(e.headerLeft||e.headerRight)&&Object(De.jsxs)("div",{className:"cardHeader",children:[e.headerLeft&&Object(De.jsx)("div",{children:e.headerLeft}),e.headerRight&&e.headerRight]}),e.children]}))}),bt=(n(107),function(e){var t=Object(u.c)((function(e){return e.order})),n=Object(a.useState)(""),c=Object(Me.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)(!1),o=Object(Me.a)(i,2),l=o[0],d=(o[1],Object(u.b)()),j=function(e){d(function(e){return function(){var t=Object(O.a)(b.a.mark((function t(n){var a,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:oe}),t.prev=1,t.next=4,Ne.post("/admin/order/update",e);case 4:201===(a=t.sent).status?(n({type:le}),n(Le())):(c=a.data.error,n({type:de,payload:{error:c}})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}({orderId:e,type:r}))},p=function(e){d(function(e){return function(){var t=Object(O.a)(b.a.mark((function t(n){var a,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:oe}),t.prev=1,t.next=4,Ne.post("/updateStatus",e);case 4:201===(a=t.sent).status?(n({type:le}),n(Le())):(c=a.data.error,n({type:de,payload:{error:c}})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}({orderId:e,type:r}))},h=function(e){var t;return e.map((function(e){return"\u0110\xe3 ho\xe0n th\xe0nh"===e.type&&e.isCompleted?t="\u0110\xe3 ho\xe0n th\xe0nh":"\u0110\xe3 h\u1ee7y"===e.type&&e.isCompleted?t="\u0110\xe3 h\u1ee7y":"Ho\xe0n l\u1ea1i"===e.type&&e.isCompleted?t="Ho\xe0n l\u1ea1i":"\u0110ang ch\u1edd x\u1eed l\xfd"===e.type&&e.isCompleted?t="\u0110ang ch\u1edd x\u1eed l\xfd":void 0})),t},x=function(e){if(e){var t=new Date(e);return"".concat(t.getDate(),"-").concat(t.getMonth()+1,"-").concat(t.getFullYear())}return""};return Object(De.jsx)(Fe,{sidebar:!0,children:t.orders.map((function(e,t){return Object(De.jsxs)(pt,{style:{margin:"10px 0"},headerLeft:e._id,children:[Object(De.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",padding:"50px 50px",alignItems:"center"},children:[Object(De.jsxs)("div",{children:[Object(De.jsx)("span",{className:"title",children:"T\u1ed5ng thanh to\xe1n"}),Object(De.jsx)("br",{}),Object(De.jsx)("span",{className:"value",children:Object(De.jsx)(lt,{value:0!==e.paymentOnDelivery?e.paymentOnDelivery:e.payingThroughBank})})]}),Object(De.jsxs)("div",{children:[Object(De.jsx)("span",{className:"title",children:"Ph\u01b0\u01a1ng th\u1ee9c thanh to\xe1n"})," ",Object(De.jsx)("br",{}),Object(De.jsx)("span",{className:"value",children:e.paymentType})]}),Object(De.jsxs)("div",{children:[Object(De.jsx)("span",{className:"title",children:"T\xecnh tr\u1ea1ng \u0111\u01a1n h\xe0ng"})," ",Object(De.jsx)("br",{}),Object(De.jsx)("span",{className:"value",children:h(e.paymentStatus)})]})]}),Object(De.jsxs)("div",{style:{padding:"0 50px",boxSizing:"border-box"},children:[Object(De.jsx)("span",{className:"title",style:{marginRight:20},children:"C\u1eadp nh\u1eadt t\xecnh tr\u1ea1ng \u0111\u01a1n h\xe0ng"}),Object(De.jsxs)("select",{onChange:function(e){return s(e.target.value)},children:[Object(De.jsx)("option",{value:"",children:"L\u1ef1a ch\u1ecdn"}),e.paymentStatus.map((function(e){return Object(De.jsx)(De.Fragment,{children:e.isCompleted?null:Object(De.jsx)("option",{value:e.type,children:e.type},e.type)})}))]}),Object(De.jsx)("div",{style:{padding:"0 50px",boxSizing:"border-box",width:"200px",display:"inline-block"},children:Object(De.jsx)("button",{onClick:function(){return p(e._id)},children:"X\xe1c nh\u1eadn"})})]}),Object(De.jsxs)("div",{style:l?{display:"none"}:{boxSizing:"border-box",padding:"100px",display:"flex",alignItems:"center"},children:[Object(De.jsx)("div",{className:"orderTrack",children:e.orderStatus.map((function(e){return Object(De.jsxs)("div",{className:"orderStatus ".concat(e.isCompleted?"active":""),children:[Object(De.jsx)("div",{className:"point ".concat(e.isCompleted?"active":"")}),Object(De.jsxs)("div",{className:"orderInfo",children:[Object(De.jsx)("div",{className:"status",children:e.type}),Object(De.jsx)("div",{className:"date",children:x(e.date)})]})]})}))}),Object(De.jsx)("div",{style:{padding:"0 50px",boxSizing:"border-box"},children:Object(De.jsxs)("select",{onChange:function(e){return s(e.target.value)},children:[Object(De.jsx)("option",{value:"",children:"L\u1ef1a ch\u1ecdn"}),e.orderStatus.map((function(e){return Object(De.jsx)(De.Fragment,{children:e.isCompleted?null:Object(De.jsx)("option",{value:e.type,children:e.type},e.type)})}))]})}),Object(De.jsx)("div",{style:{padding:"0 50px",boxSizing:"border-box",width:"200px"},children:Object(De.jsx)("button",{onClick:function(){return j(e._id)},children:"X\xe1c nh\u1eadn"})})]})]},t)}))})}),ht=function(){var e=Object(u.c)((function(e){return e.user}));return Object(De.jsx)(Fe,{sidebar:!0,children:Object(De.jsxs)(d.a,{children:[Object(De.jsx)(Pe.a,{children:Object(De.jsx)(Ge.a,{md:12,children:Object(De.jsx)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"20px"},children:Object(De.jsx)("h3",{children:"Ng\u01b0\u1eddi d\xf9ng"})})})}),Object(De.jsx)(Pe.a,{children:Object(De.jsx)(Ge.a,{children:Object(De.jsxs)(ot.a,{style:{fontSize:12},responsive:"sm",children:[Object(De.jsx)("thead",{children:Object(De.jsxs)("tr",{children:[Object(De.jsx)("th",{children:"ID ng\u01b0\u1eddi d\xf9ng"}),Object(De.jsx)("th",{children:"T\xean ng\u01b0\u1eddi d\xf9ng"}),Object(De.jsx)("th",{children:"V\u1ecb tr\xed"}),Object(De.jsx)("th",{children:"Email"}),Object(De.jsx)("th",{children:"Quy\u1ec1n"})]})}),Object(De.jsx)("tbody",{children:e.users.length>0?e.users.map((function(e){return Object(De.jsxs)("tr",{children:[Object(De.jsx)("td",{children:e._id}),Object(De.jsx)("td",{children:e.fullname}),Object(De.jsx)("td",{children:e.role}),Object(De.jsx)("td",{children:e.email}),Object(De.jsx)("td",{children:"super-admin"===e.role?"C\u1eadp nh\u1eadt, qu\u1ea3n l\xfd ng\u01b0\u1eddi d\xf9ng v\xe0 s\u1ea3n ph\u1ea9m":"\u0110\u1eb7t h\xe0ng, \u0110\xe1nh gi\xe1, Ph\u1ea3n h\u1ed3i"})]},e._id)})):""})]})})})]})})};var Ot=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.auth}));return Object(a.useEffect)((function(){t.authenticate||e(function(){var e=Object(O.a)(b.a.mark((function e(t){var n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=localStorage.getItem("token"))?(a=JSON.parse(localStorage.getItem("user")),t({type:C,payload:{token:n,user:a}})):t({type:y,payload:{error:"Failed to login"}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.authenticate&&e(function(){var e=Object(O.a)(b.a.mark((function e(t){var n,a,c,r,s,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.post("/initialData");case 2:200===(n=e.sent).status&&(a=n.data,c=a.users,r=a.categories,s=a.products,i=a.orders,t({type:N,payload:{users:c}}),t({type:U,payload:{categories:r}}),t({type:H,payload:{products:s}}),t({type:se,payload:{orders:i}}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[t.authenticate]),Object(De.jsx)("div",{className:"App",children:Object(De.jsxs)(i.d,{children:[Object(De.jsx)(Ke,{path:"/react-admin-electronic/",exact:!0,component:Be}),Object(De.jsx)(Ke,{path:"/react-admin-electronic/users",exact:!0,component:ht}),Object(De.jsx)(Ke,{path:"/react-admin-electronic/page",component:et}),Object(De.jsx)(Ke,{path:"/react-admin-electronic/categories",component:it}),Object(De.jsx)(Ke,{path:"/react-admin-electronic/products",component:ut}),Object(De.jsx)(Ke,{path:"/react-admin-electronic/orders",component:bt}),Object(De.jsx)(i.b,{path:"/react-admin-electronic/signin",component:We}),Object(De.jsx)(i.b,{path:"/react-admin-electronic/signup",component:Ye})]})})},xt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,119)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};window.store=ke,s.a.render(Object(De.jsx)(u.a,{store:ke,children:Object(De.jsxs)(j.a,{children:[Object(De.jsx)(c.a.StrictMode,{children:Object(De.jsx)(Ot,{})}),","]})}),document.getElementById("root")),xt()},73:function(e,t,n){},74:function(e,t,n){}},[[108,1,2]]]);
//# sourceMappingURL=main.bd9e5709.chunk.js.map